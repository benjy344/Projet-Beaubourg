<div id="ChooseLevel">
	<ul>
		<li><a href="#" data-load="portalLevel1()">I . Le Pixel</a></li>
		<li><a href="#" class="lock load-level2" data-load="portalLevel2()">II . La Couleur</a></li>
		<li><a href="#" class="lock load-level3" data-load="portalLevel3()">III . La Couleur Aditive</a></li>
		<li><a href="#" class="lock load-level4" data-load="portalLevel4()">IV . Le Positionnement</a></li>
		<li><a href="#" class="lock load-level5 " data-load="portalSandbox()">Sandbox</a></li>
	</ul>
</div>

<script type="text/javascript">
	if (level2IsVisited) {
		$('.load-level2').removeClass('lock');
	}
	if (level3IsVisited) {
		$('.load-level3').removeClass('lock');
	}
	if (level4IsVisited) {
		$('.load-level4').removeClass('lock');
	}
	if (sandboxIsVisited) {
		$('.load-level5').removeClass('lock');
	}
	 $('#ChooseLevel li a ').on('click', function (e) {
        var toLoad = $(this).attr('data-load');
        if ($(this).hasClass('lock')) {
        	e.preventDefault(); 
        	e.stopImmediatePropagation();
        	$(this).addClass("wiggle")
        	$(this).delay(600).queue(function() {  // Wait for 1 second.
	            $(this).removeClass("wiggle").dequeue();
	        });
        } 
        else {eval(toLoad);
			$('.hamburger').removeClass('is-active');
			$('#overlay').removeClass('open');
			$('.main-nav>ul').removeClass('childOpen');
			$('.main-nav .child').removeClass('isOpen');
        }
        
    })

</script>